[save_variables]
filename: ~/printer/user_variables.cfg

[gcode_macro SAVE_VARIABLE_DEFAULT]
gcode: 
    {% if params.VARIABLE.lower() not in printer.save_variables.variables %}
        SAVE_VARIABLE VARIABLE={params.VARIABLE} VALUE={params.DEFAULT}
    {% endif %}

[delayed_gcode _INIT_USER_VARIABLES]
initial_duration: 0.1
gcode:
  SAVE_VARIABLE_DEFAULT VARIABLE=DEBUG DEFAULT=False